(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const s=window.L,g=new s.TileLayer("https://a.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoidGF0aWFuYSIsImEiOiJjaW9nNWc2enkwMWk0dWRtM3Qwd3J5dHo2In0.42pdJNpJD8BAalQ3nM8KQg",{id:"mapbox.Street"}),w=new s.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{}),v=new s.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{subdomains:"1234"}),M=new s.TileLayer("https://{s}.tiles.mapquest.com/render/latest/vivid/{z}/{x}/{y}/256/png",{subdomains:"abc"});new s.TileLayer("http://otile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.png",{subdomains:"1234"});new s.TileLayer("http://t{s}.tianditu.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}",{subdomains:"01234567"});new s.TileLayer("http://t{s}.tianditu.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}",{subdomains:"01234567"});new s.TileLayer("http://t{s}.tianditu.cn/DataServer?T=ter_w&X={x}&Y={y}&L={z}",{subdomains:"01234567"});new s.TileLayer("http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z=d{z}",{subdomains:"1234"});new s.TileLayer("http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z=d{z}",{subdomains:"1234"});const f=new s.TileLayer("http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",{subdomains:"1234"}),L=new s.TileLayer("http://emap{s}.mapabc.com/mapabc/maptile?&x={x}&y={y}&z={z}",{subdomains:"0123"}),z=new s.TileLayer("http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",{attribution:"点击地图任意处，获取百度和火星坐标"}),T=new s.TileLayer("http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",{}),x=new s.TileLayer("http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",{}),b=new s.TileLayer("http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetColor/MapServer/tile/{z}/{y}/{x}",{}),q=new s.TileLayer(" http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}",{}),S=new s.TileLayer("http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/administrative_division_boundaryandlabel/MapServer/tile/{z}/{y}/{x}",{}),_=new s.TileLayer("http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/administrative_division_boundary/MapServer/tile/{z}/{y}/{x}",{}),O=new s.TileLayer("http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}",{});new s.TileLayer("http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/Subway/MapServer/tile/{z}/{y}/{x}",{});const C=new s.TileLayer("http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.png",{}),W=new s.TileLayer("http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png",{});new s.TileLayer("http://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{});new s.TileLayer("http://42.120.180.211:8080/mapservice?t=1&c={constiant}&x={x}&y={y}&z={z}&size=1&v=light",{});const I=new s.TileLayer("http://server.arcgisonline.com/arcgis/rest/services/world_imagery/mapserver/tile/{z}/{y}/{x}",{}),P=new s.TileLayer("http://khm0.googleapis.com/kh?v=203&hl=zh-CN&&x={x}&y={y}&z={z}",{}),d=3.141592653589793*3e3/180,o=3.141592653589793,y=6378245,h=.006693421622965943,G=function(e,t){const r=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*d),a=Math.atan2(t,e)+3e-6*Math.cos(e*d),n=r*Math.cos(a)+.0065,c=r*Math.sin(a)+.006;return[n,c]},A=function(e,t){if(j(e,t))return[e,t];{let r=B(e-105,t-35),a=N(e-105,t-35);const n=t/180*o;let c=Math.sin(n);c=1-h*c*c;const m=Math.sqrt(c);r=r*180/(y*(1-h)/(c*m)*o),a=a*180/(y/m*Math.cos(n)*o);const u=t+r;return[e+a,u]}},B=function(e,t){let r=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))*2/3,r+=(20*Math.sin(t*o)+40*Math.sin(t/3*o))*2/3,r+=(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))*2/3,r},N=function(e,t){let r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))*2/3,r+=(20*Math.sin(e*o)+40*Math.sin(e/3*o))*2/3,r+=(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))*2/3,r},j=function(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1};var p=new s.Map("map",{center:new s.LatLng(26.33280692289788,114.78515624999999),zoom:5});s.control.layers({geoqBlue:z.addTo(p),高德影像:f,esrisat:I,MapQuest:M,谷歌影像:P,Mapbox:g,osm:w,MapQuest:v,图吧:L,geoqCommunity:T,geoqGray:x,geoColor:b,geoqWarm:q,geoqBound:S,geoqBoundonly:_,geoqWater:O,StamenToner:C,StamenWaterColor:W},{},{position:"topleft"}).addTo(p);var l;p.on("click",function(i){l&&p.hasLayer(l)&&p.removeLayer(l);var e=i.latlng,t=A(e.lng,e.lat),r=G(t[0],t[1]),a="";a+="<p>谷歌地球: <strong>"+e.lat+","+e.lng+"</strong></p>",a+="<p>高德腾讯: <strong>"+t[1]+","+t[0]+"</strong></p>",a+="<p>百度地图: <strong>"+r[1]+","+r[0]+"</strong></p>",l=s.marker(e).addTo(p).bindPopup(a).openPopup()});s.DomUtil.get("press-me").addEventListener("click",async()=>{const i=await showOpenFilePicker();if(i[0]&&i[0].kind==="file"){const e=await i[0].getFile(),t=new FileReader;t.onload=r=>{const a=r.target.result;console.log(r.target.result),s.geoJSON(JSON.parse(a),{}).addTo(p)},t.readAsText(e,"utf-8")}console.log("hello",i)});
